<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Local Law 97</title>
   	<script src="https://d3js.org/d3.v4.min.js"></script>
   	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500" rel="stylesheet">
   	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script>
    <style>

		p {
			font-family: 'Open Sans', sans-serif;
			color:#353536;
			font-weight:300;
		}

		svg {
			width:100%;
			height:600px;
			padding-left:5%;
			padding-right:50px;		
		}
		
		h1 {
			font-size:60px;
			font-weight:200;
			line-height:1.3;
		}
		
		#firstvisualdiv, #secondvisualdiv {
        position: -webkit-sticky;
          position: sticky;
          top: -1px;
    	}
    	
   .text1opacity, .text2opacity, .text3opacity, .text4opacity {
        font-size:50px;
        fill:black;
        opacity:0;
        transition: opacity 0.8s;
         -webkit-transition: opacity 0.8s;
        }


		.active {
        	opacity:1;
    	}



	</style>
</head>
<body>
  <main role="main" class="container" >
     <div class="row">
     	<div class="col-6">
     		<br><br>
     		<h1>Local Law 97</h1>
     		<hr>
     	</div>
     </div>
     <div class="row">
     	<div class="col-4">
        <br><br>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
        <br><br>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	<p id="text1">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
        <br><br>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	<p id="text2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	<p id="text3">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	</div>
     	<div class="col-8">
     		<div id="firstvisualdiv">
     		</div>
     	</div>
     	<div class="col-4">
     	<br><br>
     	<p id="text4">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	<p id="text5">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
     	<br><br>
     	</div>
     	<div class="col-8">
     		<div id="secondvisualdiv">
     		</div>
     	</div>
     </div>
  </main><!-- /.container -->
</body>

<script type="text/javascript">

var svg = d3.select("div#firstvisualdiv")
						.append("svg")
						.attr("viewBox", "0 0 1200 800")
                          .attr("preserveAspectRatio", "xMinYMid")
                          
                          
                
			  
var text = [400, 0, 800, 600];

        svg.append("text")
            .attr("x", 0)
            .attr("y", 0)
            .attr("text-anchor", "right")
            .text("Buildings that Local Law 97 will impact")
            .attr("class", "text1opacity")

var imgs = [100, 200, 800, 600, "gray"];
               
        svg.selectAll("image")
            .data(imgs)
            .enter()
            .append("svg:image")
            .attr("xlink:href", "img/bw3d choro.png")
            .attr("x", function(d) {
                    return d[0];})
            .attr("y", function(d) {
                    return d[1];})
            .attr("width", function(d) {
                    return d[2];})
            .attr("height", function(d) {
                    return d[3];})
                .attr("class", "text2opacity")


var svg = d3.select("div#secondvisualdiv")
						.append("svg")
						.attr("viewBox", "0 0 1200 800")
                          .attr("preserveAspectRatio", "xMinYMid")
                          
var text = [400, 0, 800, 600];

            svg.append("text")
                .attr("x", 0)
                .attr("y", 0)
                .attr("text-anchor", "right")
                .text("Buildings that won't be included in Local Law 97")
                .attr("class", "text3opacity")

  		
var imgs = [100, 0, 800, 600, "gray"];
			   			
          svg.selectAll("image")
			   .data(imgs)
			   .enter()
			   .append("svg:image")
			   .attr("xlink:href", "img/bw3d choro1.png")
			   .attr("x", function(d) {
			   		return d[0];})
			   .attr("y", function(d) {
			   		return d[1];})
			   .attr("width", function(d) {
			   		return d[2];})
			   .attr("height", function(d) {
                       return d[3];})
                .attr("class", "text4opacity")

    
    var controller = new ScrollMagic.Controller();
    
    	new ScrollMagic.Scene({triggerElement: "#text1"})
        	.setClassToggle(".text1opacity", "active") 
        	.addTo(controller);
        
    	new ScrollMagic.Scene({triggerElement: "#text2"})
        	.setClassToggle(".text2opacity", "active") 
        	.addTo(controller);
                        
		new ScrollMagic.Scene({triggerElement: "#text3"})
        	.setClassToggle(".text3opacity", "active") 
            .addTo(controller);
        new ScrollMagic.Scene({triggerElement: "#text4"})
        	.setClassToggle(".text4opacity", "active") 
        	.addTo(controller);
								
</script>
</body>
</html>